\documentclass{article}
\usepackage{listings}
\usepackage{../cmake-listings}
\usepackage{xcolor}

\lstset{
	basicstyle       = \ttfamily\footnotesize,
	commentstyle     = \color{gray},
	stringstyle      = \itshape,
	showstringspaces = false,
	showtabs         = false,
	keepspaces,
	frame            = tb,
	commentstyle     = \color{red},
	keywordstyle     = \color{blue},
	stringstyle      = \color{orange},
	breaklines       = true,
}

\begin{document}

\begin{lstlisting}[language=CMake]
cmake_minimum_required(VERSION 3.15...4.0)

project(  # This is a comment about my amazing project
  ModernCMakeExample
  VERSION 1.0
  LANGUAGES CXX
)

add_library(MyLibExample simple_lib.cpp simple_lib.hpp)

add_executable(MyExample simple_example.cpp)

target_link_libraries(MyExample PRIVATE MyLibExample)
\end{lstlisting}


\end{document}